// =========================================
// Badges - 徽章样式 (统一版)
// 对应 Badge.vue 及 .acu-badge-* 徽章组件
// =========================================

// ------------------------------------------------------------
// 1. 圆角矩形（基础徽章）
// ------------------------------------------------------------
.acu-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: var(--acu-radius-sm, 4px);
  font-size: calc(var(--acu-font-size, 13px) - 1px);
  background: var(--acu-badge-bg, rgba(0, 0, 0, 0.05));
  // 提升优先级
  &,
  .acu-wrapper & {
    color: var(--acu-text-main, #333) !important;
  }
  line-height: 1.4;
  word-break: break-word;
  white-space: pre-wrap;
}

// 默认样式 - 透明背景
.acu-badge-default {
  background: transparent;
  padding: 0;
  color: inherit;
}

// ------------------------------------------------------------
// 2. 胶囊形（两边半圆）
// ------------------------------------------------------------
.acu-badge-pill {
  @extend .acu-badge;
  border-radius: 999px;
  padding: 2px 10px;
}

// ------------------------------------------------------------
// 3. 圆形计数
// ------------------------------------------------------------
.acu-badge-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  border-radius: 50%;
  font-size: 11px;
  font-weight: bold;
  background: var(--acu-title-color);
  color: #fff;
  line-height: 1;
}

// ------------------------------------------------------------
// 颜色修饰器（全部使用 CSS 变量）
// ------------------------------------------------------------

// 主题色 (Subtle)
.acu-badge-primary {
  // 提升优先级以覆盖 base.scss 的 .acu-wrapper span 规则
  &,
  .acu-wrapper & {
    background: var(--acu-title-color-bg) !important;
    color: var(--acu-title-color) !important;
  }
}

// 次要色/灰色 (Subtle)
.acu-badge-secondary {
  &,
  .acu-wrapper & {
    background: var(--acu-table-head) !important;
    color: var(--acu-text-sub) !important;
  }
}

// 轮廓样式 (Outline)
.acu-badge-outline {
  &,
  .acu-wrapper & {
    background: transparent !important;
    border: 1px solid var(--acu-border) !important;
    color: var(--acu-text-sub) !important;
  }
  // 轮廓样式稍微减小 padding 以保持视觉平衡
  padding: 1px 7px;
}

// 主题轮廓 (Outline Primary)
.acu-badge-outline-primary {
  &,
  .acu-wrapper & {
    background: transparent !important;
    border: 1px solid var(--acu-title-color) !important;
    color: var(--acu-title-color) !important;
  }
  padding: 1px 7px;
}

// ------------------------------------------------------------
// 交互与状态
// ------------------------------------------------------------

// 交互式（可点击）
.acu-badge-interactive {
  cursor: pointer;
  transition: all 0.15s ease;
  user-select: none;

  &:hover {
    background: var(--acu-title-color);
    color: #fff;
    border-color: var(--acu-title-color); // 覆盖 outline 的边框色

    // 如果是实心背景，hover 时可能需要加深或改变透明度
    // 这里统一变为主题色实心，突出交互感
  }

  &:active {
    transform: translateY(1px);
  }
}

// ------------------------------------------------------------
// 特殊徽章（保留硬编码颜色）
// ------------------------------------------------------------

// 待删除印章 (保留原有红色样式)
.acu-stamp-delete {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-15deg);
  width: 80px;
  height: 80px;
  border: 4px solid #e74c3c;
  border-radius: 50%;
  color: #e74c3c;
  font-size: 20px;
  font-weight: 900;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  pointer-events: none;
  opacity: 0.6;
  box-shadow: inset 0 0 10px rgba(231, 76, 60, 0.2);
  background: rgba(255, 255, 255, 0.1);
}

// ------------------------------------------------------------
// 兼容性别名 (逐步废弃)
// ------------------------------------------------------------

.acu-badge-default {
  @extend .acu-badge;
  background: transparent;
}
.acu-badge-number {
  @extend .acu-badge-primary;
}
.acu-badge-tag {
  @extend .acu-badge-pill;
  @extend .acu-badge-outline;
}

// 旧的状态色 -> 映射到 Primary 或保持原样(如果不希望报错)
// 这里暂时映射为空，或者映射到 secondary，具体取决于使用场景
.acu-badge-success {
  @extend .acu-badge-primary;
}
.acu-badge-warning {
  @extend .acu-badge-primary;
}
.acu-badge-danger {
  @extend .acu-badge-primary;
}
.acu-badge-info {
  @extend .acu-badge-secondary;
}
.acu-badge-level {
  @extend .acu-badge-primary;
}
.acu-badge-percent {
  @extend .acu-badge-primary;
}
.acu-badge-male {
  @extend .acu-badge-default;
}
.acu-badge-female {
  @extend .acu-badge-default;
}
