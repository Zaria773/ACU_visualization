// ============================================================
// 全局状态组件样式
// ============================================================

.acu-global-widget {
  width: 100%;
  height: auto; // 让内容自然撑开，修复滚动条计算
  min-height: 100%;
  display: block; // 避免 Flex 布局导致的滚动计算问题
  color: var(--acu-text-main);
  position: relative;

  // 编辑态样式覆盖
  &.is-editing {
  }
}

// ------------------------------------------------------------
// 区域布局
// ------------------------------------------------------------

.acu-global-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
  padding: 12px 16px; // Header padding
}

.acu-global-body {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  width: 100%;
  padding: 0 16px 12px 16px; // Body padding
}

.acu-global-footer {
  width: 100%;
  padding: 0 16px 12px 16px; // Footer padding
}

// ------------------------------------------------------------
// 时间组样式
// ------------------------------------------------------------

.acu-global-time-group {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

// 增加权重以覆盖 base.scss 的全局重置
.acu-global-widget .acu-global-time-primary {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.2em;
  font-weight: 600;
  color: var(--acu-title-color);

  // 确保子元素继承字体大小
  * {
    font-size: inherit;
  }

  i {
    opacity: 0.8;
  }
}

.acu-global-time-secondary {
  display: flex;
  gap: 8px;
}

// ------------------------------------------------------------
// 地点样式
// ------------------------------------------------------------

// 增加权重以覆盖 base.scss 的全局重置
.acu-global-widget .acu-global-location {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 1.3em; // 增大字号
  font-weight: 600; // 加粗
  line-height: 1.4;
  color: var(--acu-text-main);

  // 确保子元素继承字体大小
  * {
    font-size: inherit;
  }

  i {
    color: var(--acu-title-color); // 图标使用主题色
    font-size: 0.9em;
    flex-shrink: 0;
    opacity: 0.8;
  }

  .location-path {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
  }

  .location-part {
    font-weight: 500;

    // 最后一级加粗高亮
    &:last-child {
      color: var(--acu-title-color);
      font-weight: 600;
    }
  }

  .location-sep {
    color: var(--acu-text-sub);
    font-size: 0.8em;
    opacity: 0.6;
  }
}

// ------------------------------------------------------------
// 通用条目样式
// ------------------------------------------------------------

.acu-global-item {
  display: flex;
  align-items: center;
  background: rgba(0, 0, 0, 0.03); // 非常淡的背景
  border-radius: var(--acu-radius-md);
  padding: 6px 10px;
  font-size: 0.95em;
  transition: all 0.2s ease;
  border: 1px solid transparent;

  // 深色模式适配
  .acu-theme-dark & {
    background: rgba(255, 255, 255, 0.05);
  }

  &:hover {
    background: var(--acu-table-hover);
    border-color: var(--acu-border);
  }

  // 布局变体
  &.layout-inline {
    width: auto; // 自适应宽度
    flex-grow: 1; // 填充剩余空间
    max-width: 48%; // 避免单行只有一个短条目太宽，也允许一行排两个
    min-width: 120px;

    // 人物列表放宽宽度限制，使其能自然流动
    &.people-group {
      max-width: 100%;
    }
  }

  &.layout-block {
    width: 100%; // 独占一行
    background: rgba(0, 0, 0, 0.02); // Footer/长文本稍微深一点点

    .item-value {
      white-space: normal; // 允许换行
    }
  }

  // 内容布局
  .item-icon {
    flex-shrink: 0;
    width: 20px;
    text-align: center;
    margin-right: 8px;
    color: var(--acu-text-sub);
    font-size: 0.9em;
  }

  .item-content {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-width: 0; // 允许文本截断
  }

  .item-label {
    font-size: 0.75em;
    color: var(--acu-text-sub);
    margin-bottom: 2px;
  }

  .item-value {
    font-weight: 500;
    color: var(--acu-text-main);
    line-height: 1.3;
  }
}

// ------------------------------------------------------------
// 人物列表样式 (Tag 风格)
// ------------------------------------------------------------

.acu-global-person-list {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  width: 100%;
  padding-top: 4px;

  .person-tag {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 2px 8px; // 稍微紧凑一点
    background: var(--acu-badge-bg);
    border-radius: 12px; // 更圆润
    font-size: 0.85em;
    color: var(--acu-text-main);
    border: 1px solid transparent;
    transition: all 0.2s;

    &:hover {
      border-color: var(--acu-title-color);
      color: var(--acu-title-color);
      background: var(--acu-title-color-bg);

      i {
        opacity: 1;
      }
    }
  }
}

// ------------------------------------------------------------
// 徽章样式增强
// ------------------------------------------------------------

.acu-badge-outline {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border: 1px solid var(--acu-border);
  border-radius: 10px;
  font-size: 0.85em;
  color: var(--acu-text-sub);
  white-space: nowrap;

  i {
    font-size: 0.9em;
  }

  &.is-highlight {
    color: var(--acu-title-color);
    border-color: var(--acu-title-color);
    background: var(--acu-title-color-bg);
  }
}
